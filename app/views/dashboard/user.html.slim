.container-fluid.px-4.py-4
  / Header
  .row.mb-4
    .col
      h1.display-5.fw-bold.text-dark
        | ðŸ  Trang chá»§
      p.text-muted ChÃ o má»«ng, #{current_user.name || current_user.email}

  / Projects Grid
  - if @projects.any?
    .row.g-4
      - @projects.each do |project|
        .col-md-6.col-lg-4
          .card.border-0.shadow-sm.h-100.hover-shadow style="cursor: pointer; transition: all 0.3s;" onclick="window.location='#{project_path(project)}'"
            .card-header.bg-gradient.text-white.border-0 style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);"
              h5.mb-0.fw-bold
                i.bi.bi-folder-fill.me-2
                = project.name

            .card-body
              / Description
              - if project.description.present?
                p.text-muted.mb-3 = truncate(project.description, length: 100)
              - else
                p.text-muted.mb-3.fst-italic KhÃ´ng cÃ³ mÃ´ táº£

              / Stats
              .row.g-2.mb-3
                .col-6
                  .d-flex.align-items-center
                    .bg-primary.bg-opacity-10.rounded.p-2.me-2
                      i.bi.bi-list-check.text-primary
                    div
                      .small.text-muted Tasks
                      .fw-bold = project.tasks.root_tasks.active.count

                .col-6
                  .d-flex.align-items-center
                    .bg-success.bg-opacity-10.rounded.p-2.me-2
                      i.bi.bi-calendar-check.text-success
                    div
                      .small.text-muted NgÃ y táº¡o
                      .fw-bold.small = project.created_at.strftime("%d/%m/%Y")

              / Progress bar (if needed)
              - total_tasks = project.tasks.root_tasks.active.count
              - if total_tasks > 0
                - completed_tasks = project.completed_task_count
                - progress = ((completed_tasks.to_f / total_tasks) * 100).round
                .mb-2
                  .d-flex.justify-content-between.small.mb-1
                    span Tiáº¿n Ä‘á»™
                    span.fw-bold #{completed_tasks}/#{total_tasks}
                  .progress style="height: 8px;"
                    .progress-bar.bg-success role="progressbar" style="width: #{progress}%"

            .card-footer.bg-transparent.border-0.pt-0
              .d-grid
                = link_to project_path(project), class: "btn btn-outline-primary" do
                  i.bi.bi-arrow-right-circle.me-2
                  | Xem chi tiáº¿t

  - else
    / Empty State
    .row
      .col-12
        .text-center.py-5
          .mb-4
            i.bi.bi-folder-x.display-1.text-muted
          h3.text-muted ChÆ°a cÃ³ project nÃ o
          p.text-muted LiÃªn há»‡ admin Ä‘á»ƒ Ä‘Æ°á»£c thÃªm vÃ o project



